diff --git a/collections_29_fix/src/main/java/org/apache/commons/collections4/map/AbstractReferenceMap.java b/collections_29_buggy/src/main/java/org/apache/commons/collections4/map/AbstractReferenceMap.java
index e0fa7e2..f114083 100644
--- a/collections_29_fix/src/main/java/org/apache/commons/collections4/map/AbstractReferenceMap.java
+++ b/collections_29_buggy/src/main/java/org/apache/commons/collections4/map/AbstractReferenceMap.java
@@ -1045,15 +1045,6 @@ public abstract class AbstractReferenceMap<K, V> extends AbstractHashedMap<K, V>
         final int capacity = in.readInt();
         init();
         data = new HashEntry[capacity];

-        threshold = calculateThreshold(data.length, loadFactor);
       
         while (true) {
             final K key = (K) in.readObject();
             if (key == null) {
@@ -1062,6 +1053,7 @@ public abstract class AbstractReferenceMap<K, V> extends AbstractHashedMap<K, V>
             final V value = (V) in.readObject();
             put(key, value);
         }
+        threshold = calculateThreshold(data.length, loadFactor);
         // do not call super.doReadObject() as code there doesn't work for reference map
     }
 
